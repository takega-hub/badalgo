# –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç: –£–ª—É—á—à–µ–Ω–∏—è ML —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏

**–î–∞—Ç–∞:** 2026-01-29  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

---

## üéØ –¶–ï–õ–¨

–°–¥–µ–ª–∞—Ç—å ML —Å—Ç—Ä–∞—Ç–µ–≥–∏—é **–ø—Ä–∏–±—ã–ª—å–Ω–æ–π** —á–µ—Ä–µ–∑:
1. –£–ª—É—á—à–µ–Ω–∏–µ —Ç–∞—Ä–≥–µ—Ç–∞ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏)
2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –≤–µ—Å–æ–≤ –∫–ª–∞—Å—Å–æ–≤ (—Ñ–æ–∫—É—Å –Ω–∞ LONG/SHORT)
3. –°–∏–º–≤–æ–ª-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### 1. –£–ª—É—á—à–µ–Ω —Ç–∞—Ä–≥–µ—Ç (`bot/ml/feature_engineering.py`)

**–ù–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `min_profit_pct: float = 1.5` - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å 1.5% –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `max_hold_periods: int = 32` - –ú–∞–∫—Å–∏–º—É–º 8 —á–∞—Å–æ–≤ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–¥–µ–ª–æ–∫

**–£–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ –ü–æ–∏—Å–∫ **—Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏** –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è TP (–Ω–µ –ø—Ä–æ—Å—Ç–æ forward_periods)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ (> 8 —á–∞—Å–æ–≤)
- ‚úÖ –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ RR >= 1.8-2.0
- ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏ 1.5%

### 2. –£–ª—É—á—à–µ–Ω—ã –≤–µ—Å–∞ –∫–ª–∞—Å—Å–æ–≤

**–ù–æ–≤—ã–µ –≤–µ—Å–∞:**
- **HOLD:** `base_weight * 0.1` (–±—ã–ª–æ 0.3) - —É–º–µ–Ω—å—à–µ–Ω–æ –≤ 3 —Ä–∞–∑–∞
- **LONG/SHORT:** `base_weight * 3.0-4.0` (–±—ã–ª–æ 2.0) - —É–≤–µ–ª–∏—á–µ–Ω–æ –≤ 1.5-2 —Ä–∞–∑–∞

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:**
- ‚úÖ `retrain_ml_optimized.py`
- ‚úÖ `train_quad_ensemble.py`
- ‚úÖ `retrain_ultra_aggressive.py`
- ‚úÖ `bot/ml/train_ml_model.py`
- ‚úÖ `bot/ml/retrain_model.py`
- ‚úÖ `train_lightgbm_model.py`
- ‚úÖ `train_lstm_model.py`

### 3. –í—Å–µ –æ–±—É—á–∞—é—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã

–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–∞—Ä–≥–µ—Ç–∞:
- ‚úÖ `max_hold_periods=32` (8 —á–∞—Å–æ–≤)
- ‚úÖ `min_profit_pct=1.5` (1.5% –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å)

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –®–∞–≥ 1: –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏

```bash
# –î–ª—è BTCUSDT (15m, triple/quad ensemble)
python retrain_ml_optimized.py --symbol BTCUSDT

# –î–ª—è ETHUSDT (MTF, triple ensemble)
python retrain_ml_optimized.py --symbol ETHUSDT

# –î–ª—è SOLUSDT (15m, quad ensemble)
python retrain_ml_optimized.py --symbol SOLUSDT
```

**–ò–ª–∏ –ø–µ—Ä–µ–æ–±—É—á–∏—Ç—å –≤—Å–µ –º–æ–¥–µ–ª–∏ —Å—Ä–∞–∑—É:**
```bash
python retrain_all_models.py
```

### –®–∞–≥ 2: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏

```bash
# –¢–µ—Å—Ç –Ω–∞ –æ–¥–Ω–æ–π –ø–∞—Ä–µ (–±—ã—Å—Ç—Ä–æ)
python compare_ml_models.py --days 30 --symbols BTCUSDT

# –¢–µ—Å—Ç –≤—Å–µ—Ö –ø–∞—Ä
python compare_ml_models.py --days 30 --symbols BTCUSDT,ETHUSDT,SOLUSDT
```

### –®–∞–≥ 3: –û—Ü–µ–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- ‚úÖ **WinRate:** 40-60% (–±—ã–ª–æ 23%)
- ‚úÖ **Profit Factor:** > 1.2 (–±—ã–ª–æ 0.62)
- ‚úÖ **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫:** 30-100 –∑–∞ 30 –¥–Ω–µ–π (–±—ã–ª–æ 13)
- ‚úÖ **–°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** < 20 —á–∞—Å–æ–≤ (–±—ã–ª–æ 18.6h)

**–ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ö–æ—Ä–æ—à–∏–µ:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –≤ –ª–∞–π–≤–µ
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏–º–≤–æ–ª-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ –≤ –∞–¥–º–∏–Ω–∫–µ

**–ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–ª–æ—Ö–∏–µ:**
- ‚ö†Ô∏è –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –µ—â–µ –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã (min_profit_pct=2.0, max_hold_periods=24)
- ‚ö†Ô∏è –£–≤–µ–ª–∏—á–∏—Ç—å –≤–µ—Å–∞ LONG/SHORT –¥–æ 5.0x
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è

---

## üìä –¢–ï–ö–£–©–ò–ï –ù–ê–°–¢–†–û–ô–ö–ò –ü–û –°–ò–ú–í–û–õ–ê–ú

### BTCUSDT
- `ml_model_type`: `quad_ensemble`
- `ml_mtf_enabled`: `true` (–Ω–æ –ø–æ —Ç–µ—Å—Ç–∞–º 15m –ª—É—á—à–µ)

### ETHUSDT
- `ml_model_type`: `triple_ensemble`
- `ml_mtf_enabled`: `true`

### SOLUSDT
- `ml_model_type`: `quad_ensemble`
- `ml_mtf_enabled`: `false`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü–æ—Å–ª–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `symbol_strategy_settings.json` –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

1. **`bot/ml/feature_engineering.py`:**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `min_profit_pct` –∏ `max_hold_periods`
   - –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è TP
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–¥–µ–ª–æ–∫

2. **–í—Å–µ –æ–±—É—á–∞—é—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã:**
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—ã–∑–æ–≤—ã `create_target_variable()` —Å –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
   - –£–ª—É—á—à–µ–Ω—ã –≤–µ—Å–∞ –∫–ª–∞—Å—Å–æ–≤ (HOLD=0.1x, LONG/SHORT=3.0-4.0x)

3. **`train_quad_ensemble.py`:**
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤–µ—Å–æ–≤ –∫–ª–∞—Å—Å–æ–≤ –ø–µ—Ä–µ–¥ –æ–±—É—á–µ–Ω–∏–µ–º
   - –ü–µ—Ä–µ–¥–∞—á–∞ –≤–µ—Å–æ–≤ –≤ `train_quad_ensemble()`

---

## üìù –ó–ê–ú–ï–¢–ö–ò

- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è **–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã** - —Å—Ç–∞—Ä—ã–µ –º–æ–¥–µ–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ù–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –±—É–¥—É—Ç –æ–±—É—á–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ **–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö** —Å–¥–µ–ª–∫–∞—Ö
- –í–µ—Å–∞ –∫–ª–∞—Å—Å–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ **—Ñ–æ–∫—É—Å** –Ω–∞ –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö LONG/SHORT —Å–∏–≥–Ω–∞–ª–∞—Ö
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ –ª–∞–π–≤–µ

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï–ú

- [ ] –ü–µ—Ä–µ–æ–±—É—á–µ–Ω—ã –º–æ–¥–µ–ª–∏ —Å –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] WinRate > 40% –∏ Profit Factor > 1.0
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `symbol_strategy_settings.json` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–æ—Ä–æ–≥–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫–µ (0.70-0.75 –¥–ª—è BTCUSDT)
- [ ] –ì–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ª–∞–π–≤–µ

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
