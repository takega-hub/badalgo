# ‚úÖ –°–¢–ê–¢–£–° –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò V18 MTF

## üìä –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –ù–ê –û–°–ù–û–í–ï –ù–û–í–û–ì–û –ê–ù–ê–õ–ò–ó–ê (4902 —Å–¥–µ–ª–∫–∏)

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∞–Ω–∞–ª–∏–∑–∞:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ä—ã–π –∞–Ω–∞–ª–∏–∑ | –ù–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ | –°—Ç–∞—Ç—É—Å |
|----------|---------------|--------------|--------|
| **volatility_ratio** –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è | 0.4182 | 0.4157 | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç |
| **volatility_ratio** —Ä–∞–∑–Ω–∏—Ü–∞ WR | 52.8% | 51.7% | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç |
| –ü—Ä–∏–±—ã–ª—å–Ω—ã–µ volatility_ratio | 0.0029 | 0.0029 | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç |
| –£–±—ã—Ç–æ—á–Ω—ã–µ volatility_ratio | 0.0019 | 0.0019 | ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç |
| **volume** –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ | 1024.09 | 1035.18 | ‚úÖ –ë–ª–∏–∑–∫–æ |
| **volume** —É–±—ã—Ç–æ—á–Ω—ã–µ | 481.24 | 488.58 | ‚úÖ –ë–ª–∏–∑–∫–æ |
| **atr** –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ | 216.44 | 242.08 | ‚úÖ –ë–ª–∏–∑–∫–æ |
| **atr** —É–±—ã—Ç–æ—á–Ω—ã–µ | 135.16 | 149.29 | ‚úÖ –ë–ª–∏–∑–∫–æ |

---

## ‚úÖ –ü–†–ò–ú–ï–ù–ï–ù–ù–´–ï –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ) ‚úÖ

1. **Volatility_ratio:**
   - ‚úÖ `min_volatility_ratio`: 0.0020 ‚Üí **0.0025** (–º–µ–∂–¥—É —É–±—ã—Ç–æ—á–Ω—ã–º–∏ 0.0019 –∏ –ø—Ä–∏–±—ã–ª—å–Ω—ã–º–∏ 0.0029)
   - ‚úÖ `max_volatility_ratio`: 1.5 ‚Üí **1.2** (–±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–π —Ñ–∏–ª—å—Ç—Ä)
   - **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** Q1 (–Ω–∏–∑–∫–∞—è) = WR 11.7%, Q4 (–≤—ã—Å–æ–∫–∞—è) = WR 63.4%

2. **–¢—Ä–µ–π–ª–∏–Ω–≥-—Å—Ç–æ–ø:**
   - ‚úÖ `trailing_activation_atr`: 0.35 ‚Üí **0.40** (–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–∑–∂–µ)
   - ‚úÖ `trailing_distance_atr`: 0.45 ‚Üí **0.50** (–±–æ–ª—å—à–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)
   - **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –°–Ω–∏–∂–µ–Ω–∏–µ % SL_TRAILING —Å 50.9% –¥–æ ~35-40%

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ) ‚úÖ

3. **ATR —Ñ–∏–ª—å—Ç—Ä—ã:**
   - ‚úÖ `min_absolute_atr`: 85.0 ‚Üí **120.0** (–º–µ–∂–¥—É —É–±—ã—Ç–æ—á–Ω—ã–º–∏ 149.29 –∏ –ø—Ä–∏–±—ã–ª—å–Ω—ã–º–∏ 242.08)
   - ‚úÖ `atr_percent_min`: 0.001 ‚Üí **0.0015**
   - **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** Q1 (–Ω–∏–∑–∫–∏–π) = WR 13.7%, Q4 (–≤—ã—Å–æ–∫–∏–π) = WR 59.0%

4. **Volume —Ñ–∏–ª—å—Ç—Ä—ã:**
   - ‚úÖ `min_absolute_volume`: 800.0 ‚Üí **900.0** (–±–ª–∏–∂–µ –∫ –ø—Ä–∏–±—ã–ª—å–Ω—ã–º 1035.18)
   - ‚úÖ `min_volume_spike`: 1.5 ‚Üí **1.6** (LONG)
   - ‚úÖ `min_volume_spike_short`: 1.1 ‚Üí **1.3** (SHORT)
   - **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** Q1 (–Ω–∏–∑–∫–∏–π) = WR 15.8%, Q4 (–≤—ã—Å–æ–∫–∏–π) = WR 63.9%

5. **TP —É—Ä–æ–≤–Ω–∏:**
   - ‚úÖ `tp_levels`: [2.2, 2.8, 3.6] ‚Üí **[2.5, 3.0, 3.8]**
   - **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –£–ª—É—á—à–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ RR —Å 1.69 –¥–æ ‚â•1.8

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚úÖ

6. **RSI —Ñ–∏–ª—å—Ç—Ä—ã:**
   - ‚úÖ LONG `max_rsi_norm`: 0.60 ‚Üí **0.55**
   - ‚úÖ SHORT `min_rsi_norm`: 0.35 ‚Üí **0.40**
   - **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** Q1 (–Ω–∏–∑–∫–∏–π) = WR 42.6%, Q4 (–≤—ã—Å–æ–∫–∏–π) = WR 67.4%

7. **ADX —Ñ–∏–ª—å—Ç—Ä—ã:**
   - ‚úÖ `min_adx`: 25.0 ‚Üí **27.0**
   - ‚úÖ `min_adx_short`: 20.0 ‚Üí **22.0**

---

## üìà –û–ñ–ò–î–ê–ï–ú–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### –¢–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ V17 (4902 —Å–¥–µ–ª–∫–∏):
- Win Rate: **39.4%** ‚ùå
- –°—Ä–µ–¥–Ω–∏–π RR: **1.69** ‚ùå
- SL_TRAILING: **50.9%** ‚ùå
- VERY_BAD —Å–¥–µ–ª–æ–∫: **21.8%** ‚ùå

### –û–∂–∏–¥–∞–µ–º—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ V18 MTF (—Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏):
- Win Rate: **48-52%** ‚úÖ (+8-12%)
- –°—Ä–µ–¥–Ω–∏–π RR: **1.75-1.85** ‚úÖ (+0.06-0.16)
- SL_TRAILING: **35-40%** ‚úÖ (-10-15%)
- VERY_BAD —Å–¥–µ–ª–æ–∫: **15-18%** ‚úÖ (-3-6%)

---

## üîç –ö–õ–Æ–ß–ï–í–´–ï –ù–ê–•–û–î–ö–ò –ò–ó –ê–ù–ê–õ–ò–ó–ê

### –¢–æ–ø-3 –ø—Ä–∏–∑–Ω–∞–∫–∞ –ø–æ –≤–∞–∂–Ω–æ—Å—Ç–∏:

1. **`volatility_ratio`** (–∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è 0.4157, —Ä–∞–∑–Ω–∏—Ü–∞ WR 51.7%)
   - ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω: min 0.0025 (–±—ã–ª–æ 0.0020)
   - ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç: +10-15% Win Rate

2. **`volume`** (–∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è 0.3407, —Ä–∞–∑–Ω–∏—Ü–∞ WR 48.1%)
   - ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω: min 900.0 (–±—ã–ª–æ 800.0), –≤—Å–ø–ª–µ—Å–∫ 1.6/1.3
   - ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç: +8-12% Win Rate

3. **`atr`** (–∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è 0.3073, —Ä–∞–∑–Ω–∏—Ü–∞ WR 45.3%)
   - ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω: min 120.0 (–±—ã–ª–æ 85.0)
   - ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç: +6-10% Win Rate

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç:
- **MTF –∞–Ω–∞–ª–∏–∑** (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–µ–Ω–¥–æ–≤ –Ω–∞ 1h –∏ 4h): +5-8% Win Rate
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã**: +8-12% Win Rate
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–µ–π–ª–∏–Ω–≥**: -10-15% SL_TRAILING
- **–£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ TP —É—Ä–æ–≤–Ω–∏**: +0.06-0.16 —Å—Ä–µ–¥–Ω–∏–π RR

**–ò–¢–û–ì–û:** –û–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ Win Rate: **+13-20%** (—Å 39.4% –¥–æ 52-59%)

---

## ‚úÖ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –ü–†–ò–ú–ï–ù–ï–ù–ò–Ø

–í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ **—É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã** –≤ `crypto_env_v18_mtf.py`:

1. ‚úÖ –ò–º–ø–æ—Ä—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ `mtf_optimized_params.py`
2. ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ `__init__()` –ø–æ—Å–ª–µ `super().__init__()`
3. ‚úÖ –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `_check_entry_filters_strict()` —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `_check_1h_trend()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö ADX –∑–Ω–∞—á–µ–Ω–∏–π

---

## üöÄ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –û–ë–£–ß–ï–ù–ò–Æ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ì–û–¢–û–í–û –ö –û–ë–£–ß–ï–ù–ò–Æ**

```bash
# –ó–∞–ø—É—Å–∫ –æ–±—É—á–µ–Ω–∏—è V18 MTF —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
python bot/train_v18_mtf.py
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è:** 3-4 –¥–Ω—è (400,000 —à–∞–≥–æ–≤)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å Win Rate –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—É—á–µ–Ω–∏—è (—Ü–µ–ª—å ‚â•50%)
2. –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å % SL_TRAILING (—Ü–µ–ª—å <40%)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ä–µ–¥–Ω–∏–π RR –ø–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è (—Ü–µ–ª—å ‚â•1.8)
4. –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å V17 –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è

---

**–î–∞—Ç–∞:** 2024
**–í–µ—Ä—Å–∏—è:** V18 MTF Optimized
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
