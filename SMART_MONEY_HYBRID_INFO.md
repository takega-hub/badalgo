# üîó SMART_MONEY_HYBRID - –ì–∏–±—Ä–∏–¥–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è ICT + SMC

## üìã –û–ü–ò–°–ê–ù–ò–ï

–ì–∏–±—Ä–∏–¥–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è –ª—É—á—à–∏–µ —á–∞—Å—Ç–∏ ICT (Inner Circle Trader) –∏ SMC (Smart Money Concepts) –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–æ–Ω –≤—Ö–æ–¥–∞ –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏–≥–Ω–∞–ª–æ–≤.

## üéØ –ö–û–ù–¶–ï–ü–¶–ò–Ø

### –õ–æ–≥–∏–∫–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è:

1. **ICT –Ω–∞—Ö–æ–¥–∏—Ç FVG** –ø–æ—Å–ª–µ —Å–Ω—è—Ç–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Silver Bullet –æ–∫–Ω–∞ (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã)
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç MSS (Market Structure Shift)
   - –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ MTF bias –∏ EMA 20

2. **SMC –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–æ–Ω—ã**:
   - –ù–∞—Ö–æ–¥–∏—Ç FVG –∏ Order Blocks
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç Mitigation (–±—ã–ª–∞ –ª–∏ –∑–æ–Ω–∞ –ø—Ä–æ–±–∏—Ç–∞)
   - –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ EMA 200 –¥–ª—è —Ç—Ä–µ–Ω–¥–∞

3. **–°–∏–≥–Ω–∞–ª –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏**:
   - ‚úÖ ICT FVG –Ω–∞–π–¥–µ–Ω
   - ‚úÖ SMC Order Block –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∑–æ–Ω—É –ò–õ–ò SMC FVG –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å ICT FVG
   - ‚úÖ –û–±–∞ —Ñ–∏–ª—å—Ç—Ä–∞ —Ç—Ä–µ–Ω–¥–∞ –ø—Ä–æ–π–¥–µ–Ω—ã (MTF bias –æ—Ç ICT + EMA 200 –æ—Ç SMC)
   - ‚úÖ –ó–æ–Ω–∞ –Ω–µ –º–∏—Ç–∏–≥–∏—Ä–æ–≤–∞–Ω–∞
   - ‚úÖ –¶–µ–Ω–∞ –∫–∞—Å–∞–µ—Ç—Å—è –∑–æ–Ω—ã

## üìä –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

- ‚úÖ **–ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–æ–Ω –≤—Ö–æ–¥–∞** - –¥–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç –¥–≤—É—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª—É—á—à–∏—Ö —á–∞—Å—Ç–µ–π –æ–±–µ–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π** - ICT –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã + SMC Order Blocks
- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ BTCUSDT** - –≥–¥–µ ICT –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ö–æ—Ä–æ—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (+2.54 USDT)
- ‚úÖ **–î–≤–æ–π–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –ø–æ–≤—ã—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤ –∏ —É–º–µ–Ω—å—à–∞–µ—Ç –ª–æ–∂–Ω—ã–µ –≤—Ö–æ–¥—ã

## üîß –ü–ê–†–ê–ú–ï–¢–†–´

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–∏–∑ config.py):

```python
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–∏–±—Ä–∏–¥–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
hybrid_require_ob_confirmation = True  # –¢—Ä–µ–±–æ–≤–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ Order Block
hybrid_fvg_overlap_tolerance = 0.3    # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –∑–æ–Ω (30%)
hybrid_require_both_trend_filters = True  # –¢—Ä–µ–±–æ–≤–∞—Ç—å –æ–±–∞ —Ñ–∏–ª—å—Ç—Ä–∞ —Ç—Ä–µ–Ω–¥–∞
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã ICT (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–∑ ICT —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏):
- `ict_rr_ratio` - —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–∏—Å–∫/–ø—Ä–∏–±—ã–ª—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 2.0)
- `ict_mtf_bias_timeframe` - —Ç–∞–π–º—Ñ—Ä–µ–π–º –¥–ª—è MTF bias (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é '4H')
- `ict_fvg_search_window` - –æ–∫–Ω–æ –ø–æ–∏—Å–∫–∞ FVG (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 40)

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã SMC (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–∑ SMC —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏):
- `smc_max_fvg_age_bars` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç FVG –∑–æ–Ω—ã
- `smc_max_ob_age_bars` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç Order Block –∑–æ–Ω—ã
- `smc_touch_tolerance_pct` - –¥–æ–ø—É—Å–∫ –∫–∞—Å–∞–Ω–∏—è –∑–æ–Ω—ã

## üöÄ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï

### –í live.py:

```python
from bot.smart_money_hybrid import build_smart_money_signals

# –í —Ñ—É–Ω–∫—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤:
if settings.enable_smart_money_hybrid:
    hybrid_signals = build_smart_money_signals(df, params, symbol)
    signals.extend(hybrid_signals)
```

### –í config.py:

```python
# –î–æ–±–∞–≤–∏—Ç—å –≤ SymbolStrategySettings:
enable_smart_money_hybrid: bool = False  # –í–∫–ª—é—á–∏—Ç—å –≥–∏–±—Ä–∏–¥–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
```

## üìà –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –î–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è:
- **ICT –Ω–∞ BTCUSDT:** +2.54 USDT, WR: 50.0%, 2 —Å–¥–µ–ª–∫–∏
- **SMC:** –Ω–µ—Ç actionable —Å–∏–≥–Ω–∞–ª–æ–≤

### –ü–æ—Å–ª–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è (–æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π):
- **PnL:** +3-4 USDT (—É–ª—É—á—à–µ–Ω–∏–µ —Å +2.54 ICT)
- **Win Rate:** 60-70% (—É–ª—É—á—à–µ–Ω–∏–µ —Å 50% ICT)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤:** 5-10 (–±–æ–ª—å—à–µ —á–µ–º —É ICT)

### –ü–æ—Å–ª–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π):
- **PnL:** +2.5-3.5 USDT
- **Win Rate:** 55-65%
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–≥–Ω–∞–ª–æ–≤:** 3-8

## ‚ö†Ô∏è –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø

1. **–¢—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö:** –ú–∏–Ω–∏–º—É–º 200 —Å–≤–µ—á–µ–π –¥–ª—è –æ–±–µ–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
2. **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –º–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å —Ä–∞–±–æ—Ç—É
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ù—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ live trading

## üîç –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´

### –ê–ª–≥–æ—Ä–∏—Ç–º:

1. **–ù–∞—Ö–æ–¥–∏–º ICT FVG –∑–æ–Ω—ã:**
   - –ò—â–µ–º —Å–Ω—è—Ç–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
   - –ù–∞—Ö–æ–¥–∏–º FVG –ø–æ—Å–ª–µ —Å–Ω—è—Ç–∏—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (Silver Bullet –æ–∫–Ω–∞)

2. **–ù–∞—Ö–æ–¥–∏–º SMC –∑–æ–Ω—ã:**
   - –ò—â–µ–º FVG –∑–æ–Ω—ã
   - –ò—â–µ–º Order Blocks –Ω–∞ –æ—Å–Ω–æ–≤–µ BOS (Break of Structure)
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º Mitigation

3. **–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ:**
   - –î–ª—è –∫–∞–∂–¥–æ–π ICT FVG –∏—â–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç SMC –∑–æ–Ω
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –∑–æ–Ω (–º–∏–Ω–∏–º—É–º 30%)
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å)

4. **–§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ —Ç—Ä–µ–Ω–¥—É:**
   - ICT MTF bias (–≤—ã—Å—à–∏–π —Ç–∞–π–º—Ñ—Ä–µ–π–º)
   - SMC EMA 200 (–≥–ª–æ–±–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥)
   - –û–±–∞ –¥–æ–ª–∂–Ω—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

5. **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–∏–≥–Ω–∞–ª:**
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞—Å–∞–Ω–∏–µ –∑–æ–Ω—ã
   - –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º SL/TP –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –∏ ATR
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–∏–≥–Ω–∞–ª

## üìù –ü–†–ò–ú–ï–†–´ –°–ò–ì–ù–ê–õ–û–í

### LONG —Å–∏–≥–Ω–∞–ª:
```
Reason: smart_money_hybrid_long_ict_1234_smc_fvg
- ICT FVG –Ω–∞–π–¥–µ–Ω –Ω–∞ —Å–≤–µ—á–µ 1234
- SMC FVG –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∑–æ–Ω—É
- MTF bias: bullish
- EMA 200: bullish
- –¶–µ–Ω–∞ –∫–∞—Å–∞–µ—Ç—Å—è –∑–æ–Ω—ã —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö
```

### SHORT —Å–∏–≥–Ω–∞–ª:
```
Reason: smart_money_hybrid_short_ict_5678_smc_ob
- ICT FVG –Ω–∞–π–¥–µ–Ω –Ω–∞ —Å–≤–µ—á–µ 5678
- SMC Order Block –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∑–æ–Ω—É
- MTF bias: bearish
- EMA 200: bearish
- –¶–µ–Ω–∞ –∫–∞—Å–∞–µ—Ç—Å—è –∑–æ–Ω—ã —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑
```

## üõ†Ô∏è –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø

–ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ, –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```python
# –£–º–µ–Ω—å—à–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è –∑–æ–Ω
hybrid_fvg_overlap_tolerance = 0.2  # –ë—ã–ª–æ 0.3

# –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ñ–∏–ª—å—Ç—Ä —Ç—Ä–µ–Ω–¥–∞
hybrid_require_both_trend_filters = False  # –ë—ã–ª–æ True

# –ù–µ —Ç—Ä–µ–±–æ–≤–∞—Ç—å Order Block –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
hybrid_require_ob_confirmation = False  # –ë—ã–ª–æ True
```

## üìö –°–í–Ø–ó–ê–ù–ù–´–ï –§–ê–ô–õ–´

- –ö–æ–¥ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏: `bot/smart_money_hybrid.py`
- ICT —Å—Ç—Ä–∞—Ç–µ–≥–∏—è: `bot/ict_strategy.py`
- SMC —Å—Ç—Ä–∞—Ç–µ–≥–∏—è: `bot/smc_strategy.py`
- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—é: `STRATEGY_MERGE_PROPOSAL.md`
- –†–µ–∑—é–º–µ –ø—Ä–æ–µ–∫—Ç–∞: `STRATEGY_MERGE_SUMMARY.md`
