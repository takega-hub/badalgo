[program:crypto-bot]
; Название программы в supervisor
command=/opt/crypto_bot/venv/bin/python /opt/crypto_bot/main.py --mode web --web-host 0.0.0.0 --web-port 5000
; Команда для запуска

; Директория выполнения
directory=/opt/crypto_bot

; Пользователь для запуска (замените на вашего пользователя)
user=your_username

; Автозапуск при старте supervisor
autostart=true

; Автоперезапуск при падении
autorestart=true

; Количество попыток перезапуска перед остановкой
startretries=3

; Задержка перед перезапуском (секунды)
startsecs=10

; Перенаправление stdout в файл
stdout_logfile=/opt/crypto_bot/logs/crypto-bot.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=10

; Перенаправление stderr в файл
stderr_logfile=/opt/crypto_bot/logs/crypto-bot-error.log
stderr_logfile_maxbytes=50MB
stderr_logfile_backups=10

; Переменные окружения
environment=PATH="/opt/crypto_bot/venv/bin:%(ENV_PATH)s",NUMBA_CACHE_DIR="/tmp/numba_cache"

; Приоритет процесса
priority=999

; Остановка при остановке supervisor
stopasgroup=true
killasgroup=true

; Ожидание завершения процессов
stopwaitsecs=10
