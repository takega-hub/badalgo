# –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ML –º–æ–¥–µ–ª–µ–π –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2026-01-28  
**–ü–µ—Ä–∏–æ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** –ü–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π  
**–í—Å–µ–≥–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –º–æ–¥–µ–ª–µ–π:** 26

---

## üìä –ö–†–ê–¢–ö–û–ï –†–ï–ó–Æ–ú–ï

### ‚úÖ –õ—É—á—à–∏–µ –º–æ–¥–µ–ª–∏ –ø–æ —Å–∏–º–≤–æ–ª–∞–º:

1. **BTCUSDT:** `quad_ensemble_BTCUSDT_15_mtf`
   - Win Rate: **66.67%** (24/36 —Å–¥–µ–ª–æ–∫)
   - PnL: **+0.44%** (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è BTC)
   - Profit Factor: 1.02
   - Sharpe Ratio: 0.23

2. **ETHUSDT:** `triple_ensemble_ETHUSDT_15_mtf`
   - Win Rate: **53.63%** (170/317 —Å–¥–µ–ª–æ–∫)
   - PnL: **-0.26%** (–ø–æ—á—Ç–∏ –±–µ–∑—É–±—ã—Ç–æ—á–Ω–∞—è, –ª—É—á—à–∞—è –¥–ª—è ETH)
   - Profit Factor: 0.98
   - Sharpe Ratio: 0.16

3. **SOLUSDT:** `quad_ensemble_SOLUSDT_15_15m`
   - Win Rate: **52.88%** (220/416 —Å–¥–µ–ª–æ–∫)
   - PnL: **+2.74%** (–ª—É—á—à–∞—è –º–æ–¥–µ–ª—å –ø–æ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏!)
   - Profit Factor: 1.15
   - Sharpe Ratio: 0.91

---

## üîç –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó

### 1. –ü–†–û–ë–õ–ï–ú–´, –í–´–Ø–í–õ–ï–ù–ù–´–ï –í –†–ï–ó–£–õ–¨–¢–ê–¢–ê–•

#### 1.1. –ù–∏–∑–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –∑–Ω–∞—á–∏–º–æ—Å—Ç—å –¥–ª—è Quad/Triple –º–æ–¥–µ–ª–µ–π
- **–ü—Ä–æ–±–ª–µ–º–∞:** Quad –∏ Triple –º–æ–¥–µ–ª–∏ –∏–º–µ—é—Ç –æ—á–µ–Ω—å –º–∞–ª–æ —Å–¥–µ–ª–æ–∫ (4-36 –¥–ª—è BTC/ETH)
- **–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –∞–Ω—Å–∞–º–±–ª–µ–π
- **–í–ª–∏—è–Ω–∏–µ:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã–µ –≤—ã–≤–æ–¥—ã

#### 1.2. –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π PnL —É –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –º–æ–¥–µ–ª–µ–π
- **BTCUSDT:** –¢–æ–ª—å–∫–æ 1 –∏–∑ 8 –º–æ–¥–µ–ª–µ–π –ø—Ä–∏–±—ã–ª—å–Ω–∞ (12.5%)
- **ETHUSDT:** –í—Å–µ –º–æ–¥–µ–ª–∏ —É–±—ã—Ç–æ—á–Ω—ã (–ª—É—á—à–∞—è: -0.26%)
- **SOLUSDT:** –¢–æ–ª—å–∫–æ 2 –∏–∑ 8 –º–æ–¥–µ–ª–µ–π –ø—Ä–∏–±—ã–ª—å–Ω—ã (25%)

#### 1.3. –ü–ª–æ—Ö–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ Risk/Reward
- **–ü—Ä–æ–±–ª–µ–º–∞:** `avg_loss_usd` —á–∞—Å—Ç–æ –ø—Ä–µ–≤—ã—à–∞–µ—Ç `avg_win_usd` –ø–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –≤–µ–ª–∏—á–∏–Ω–µ
- **–ü—Ä–∏–º–µ—Ä—ã:**
  - `triple_ensemble_BTCUSDT_15_mtf`: avg_win=0.47, avg_loss=-0.60 (RR < 1:1)
  - `ensemble_BTCUSDT_15_mtf`: avg_win=0.46, avg_loss=-0.57 (RR < 1:1)
  - `triple_ensemble_SOLUSDT_15_mtf`: avg_win=0.77, avg_loss=-1.00 (RR < 1:1)

#### 1.4. –ë–æ–ª—å—à–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Å–∞–¥–∫–∏
- **BTCUSDT:** Max Drawdown –æ—Ç 1.5% –¥–æ 4.7%
- **ETHUSDT:** Max Drawdown –æ—Ç 0.26% –¥–æ 5.75%
- **SOLUSDT:** Max Drawdown –æ—Ç 3.0% –¥–æ 4.9%

#### 1.5. –ù–∏–∑–∫–∏–π Profit Factor
- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –º–æ–¥–µ–ª–µ–π –∏–º–µ—é—Ç PF < 1.0 (—É–±—ã—Ç–æ—á–Ω—ã–µ)
- –¢–æ–ª—å–∫–æ 3 –º–æ–¥–µ–ª–∏ –∏–º–µ—é—Ç PF > 1.0:
  - `quad_ensemble_BTCUSDT_15_mtf`: 1.02
  - `quad_ensemble_SOLUSDT_15_15m`: 1.15
  - `xgb_SOLUSDT_15_mtf`: 1.03

#### 1.6. –ü—Ä–æ–±–ª–µ–º–∞ —Å MTF vs 15m –º–æ–¥–µ–ª—è–º–∏
- **BTCUSDT:** MTF –º–æ–¥–µ–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç **—Ö—É–¥—à–∏–µ** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è triple/ensemble
- **ETHUSDT:** MTF –º–æ–¥–µ–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç **–ª—É—á—à–∏–µ** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è triple/ensemble
- **SOLUSDT:** 15m –º–æ–¥–µ–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç **–ª—É—á—à–∏–µ** —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

---

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –£–õ–£–ß–®–ï–ù–ò–Æ

### 2.1. –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø TP/SL –ù–ê–°–¢–†–û–ï–ö

#### –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- `ml_target_profit_pct_margin = 25.0%` (TP = 2.5% –æ—Ç —Ü–µ–Ω—ã –ø—Ä–∏ 10x)
- `ml_max_loss_pct_margin = 10.0%` (SL = 1.0% –æ—Ç —Ü–µ–Ω—ã –ø—Ä–∏ 10x)
- **RR = 2.5:1**

#### –ü—Ä–æ–±–ª–µ–º–∞:
–†–µ–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ —Å—Ä–µ–¥–Ω–∏–µ —É–±—ã—Ç–∫–∏ —á–∞—Å—Ç–æ –ø—Ä–µ–≤—ã—à–∞—é—Ç —Å—Ä–µ–¥–Ω–∏–µ –ø—Ä–∏–±—ã–ª–∏, —á—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞:
1. SL —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —á–∞—â–µ, —á–µ–º TP
2. –í–æ–∑–º–æ–∂–Ω–æ, SL —Å–ª–∏—à–∫–æ–º —É–∑–∫–∏–π (1.0% –æ—Ç —Ü–µ–Ω—ã)
3. TP —Å–ª–∏—à–∫–æ–º –¥–∞–ª–µ–∫–æ (2.5% –æ—Ç —Ü–µ–Ω—ã)

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

**–í–∞—Ä–∏–∞–Ω—Ç A: –£–≤–µ–ª–∏—á–∏—Ç—å SL –¥–ª—è –ª—É—á—à–µ–≥–æ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è RR**
```python
ml_target_profit_pct_margin = 20.0%  # TP = 2.0% –æ—Ç —Ü–µ–Ω—ã
ml_max_loss_pct_margin = 8.0%        # SL = 0.8% –æ—Ç —Ü–µ–Ω—ã
# RR = 2.5:1 (—Å–æ—Ö—Ä–∞–Ω—è–µ–º, –Ω–æ —É–º–µ–Ω—å—à–∞–µ–º –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –£–º–µ–Ω—å—à–∏—Ç—å TP –¥–ª—è –±–æ–ª–µ–µ —á–∞—Å—Ç—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π**
```python
ml_target_profit_pct_margin = 18.0%  # TP = 1.8% –æ—Ç —Ü–µ–Ω—ã
ml_max_loss_pct_margin = 7.0%        # SL = 0.7% –æ—Ç —Ü–µ–Ω—ã
# RR = 2.57:1 (–±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥)
```

**–í–∞—Ä–∏–∞–Ω—Ç C: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ TP/SL –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏**
```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ATR –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ TP/SL
# TP = 2.0 * ATR
# SL = 0.8 * ATR
# RR ‚âà 2.5:1, –Ω–æ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ —Ä—ã–Ω–æ—á–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–∞—Ç—å —Å **–í–∞—Ä–∏–∞–Ω—Ç–∞ A**, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç RR 2.5:1, –Ω–æ —É–º–µ–Ω—å—à–∞–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, —á—Ç–æ –¥–æ–ª–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è TP.

---

### 2.2. –£–õ–£–ß–®–ï–ù–ò–ï –§–ò–õ–¨–¢–†–û–í –£–í–ï–†–ï–ù–ù–û–°–¢–ò –î–õ–Ø –ê–ù–°–ê–ú–ë–õ–ï–ô

#### –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:
- Quad/Triple –º–æ–¥–µ–ª–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ —Å–∏–≥–Ω–∞–ª–æ–≤ (4-36 —Å–¥–µ–ª–æ–∫ –∑–∞ 30 –¥–Ω–µ–π)
- –≠—Ç–æ –¥–µ–ª–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–∑–Ω–∞—á–∏–º—ã–º–∏

#### –¢–µ–∫—É—â–∏–µ –ø–æ—Ä–æ–≥–∏ (–∏–∑ –∫–æ–¥–∞):
```python
# –î–ª—è –∞–Ω—Å–∞–º–±–ª–µ–π:
threshold_mult = 0.20-0.30  # 20-30% –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞
dynamic_threshold = confidence_threshold * 0.30  # 30% –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ
min_strength = 0.005-0.007  # 0.5-0.7% –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
```

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

**–°–Ω–∏–∑–∏—Ç—å –ø–æ—Ä–æ–≥–∏ –¥–ª—è –∞–Ω—Å–∞–º–±–ª–µ–π:**
```python
# –ë—ã–ª–æ:
threshold_mult = 0.20-0.30
dynamic_threshold = confidence_threshold * 0.30
min_strength = 0.005-0.007

# –°—Ç–∞–ª–æ (–±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ):
threshold_mult = 0.15-0.25  # –°–Ω–∏–∂–∞–µ–º –Ω–∞ 25%
dynamic_threshold = confidence_threshold * 0.25  # –°–Ω–∏–∂–∞–µ–º –Ω–∞ 17%
min_strength = 0.003-0.005  # –°–Ω–∏–∂–∞–µ–º –Ω–∞ 40%
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ê–Ω—Å–∞–º–±–ª–µ–≤—ã–µ –º–æ–¥–µ–ª–∏ —É–∂–µ –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã –∑–∞ —Å—á–µ—Ç —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è
- –°–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –±–ª–æ–∫–∏—Ä—É—é—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- –ë–æ–ª—å—à–µ —Å–¥–µ–ª–æ–∫ = –±–æ–ª—å—à–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏

---

### 2.3. –ê–î–ê–ü–¢–ò–í–ù–´–ô –í–´–ë–û–† –ú–û–î–ï–õ–ï–ô –ü–û –°–ò–ú–í–û–õ–ê–ú

#### –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:
- –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤
- –ù–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ —Ä–∞–∑–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã —Ç—Ä–µ–±—É—é—Ç —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

**–°–æ–∑–¥–∞—Ç—å —Å–∏–º–≤–æ–ª—å–Ω–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**

```python
# BTCUSDT: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å quad_ensemble MTF (–ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
BTCUSDT_MODEL = "quad_ensemble_BTCUSDT_15_mtf"
BTCUSDT_MTF_ENABLED = True

# ETHUSDT: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å triple_ensemble MTF (–ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
ETHUSDT_MODEL = "triple_ensemble_ETHUSDT_15_mtf"
ETHUSDT_MTF_ENABLED = True

# SOLUSDT: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å quad_ensemble 15m (–ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
SOLUSDT_MODEL = "quad_ensemble_SOLUSDT_15_15m"
SOLUSDT_MTF_ENABLED = False
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å –≤ `symbol_strategy_settings.json` –ø–æ–ª–µ `ml_model_type` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞
- –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–∏ –≤ `bot/web/app.py` –∏ `bot/multi_symbol_manager.py`

---

### 2.4. –£–õ–£–ß–®–ï–ù–ò–ï –£–ü–†–ê–í–õ–ï–ù–ò–Ø –†–ò–°–ö–ê–ú–ò

#### –ü—Ä–æ–±–ª–µ–º—ã:
1. –ë–æ–ª—å—à–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Å–∞–¥–∫–∏ (–¥–æ 5.75%)
2. –î–ª–∏–Ω–Ω—ã–µ —Å–µ—Ä–∏–∏ —É–±—ã—Ç–∫–æ–≤ (–¥–æ 14 –ø–æ–¥—Ä—è–¥)
3. –ù–∏–∑–∫–∏–π Sharpe Ratio (–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ < 0.5)

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

**A. –î–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –¥–ª–∏–Ω–Ω—ã—Ö —Å–µ—Ä–∏–π —É–±—ã—Ç–∫–æ–≤:**
```python
# –í bot/config.py -> RiskParams:
max_consecutive_losses: int = 3  # –ë—ã–ª–æ 2, —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –¥–æ 3
loss_cooldown_minutes: int = 120  # –ë—ã–ª–æ 60, —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –¥–æ 120 –º–∏–Ω—É—Ç
```

**B. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ—Å–ª–µ —É–±—ã—Ç–∫–æ–≤:**
```python
# –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É–±—ã—Ç–∫–∞ —É–º–µ–Ω—å—à–∞—Ç—å —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ 20%
# –ü–æ—Å–ª–µ 2 —É–±—ã—Ç–∫–æ–≤ –ø–æ–¥—Ä—è–¥ - —É–º–µ–Ω—å—à–∏—Ç—å –Ω–∞ 40%
# –ü–æ—Å–ª–µ 3 —É–±—ã—Ç–∫–æ–≤ –ø–æ–¥—Ä—è–¥ - —É–º–µ–Ω—å—à–∏—Ç—å –Ω–∞ 60%
```

**C. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Trailing Stop –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ:**
```python
# –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
trailing_stop_activation_pct = 0.005  # 0.5%
trailing_stop_distance_pct = 0.003    # 0.3%

# –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ:
trailing_stop_activation_pct = 0.003   # 0.3% (—Ä–∞–Ω—å—à–µ –∞–∫—Ç–∏–≤–∞—Ü–∏—è)
trailing_stop_distance_pct = 0.002     # 0.2% (–±–ª–∏–∂–µ –∫ —Ü–µ–Ω–µ)
```

---

### 2.5. –ü–ï–†–ï–û–ë–£–ß–ï–ù–ò–ï –ú–û–î–ï–õ–ï–ô –° –£–ß–ï–¢–û–ú –†–ï–ê–õ–¨–ù–´–• –†–ï–ó–£–õ–¨–¢–ê–¢–û–í

#### –ü—Ä–æ–±–ª–µ–º–∞:
–ú–æ–¥–µ–ª–∏ –æ–±—É—á–µ–Ω—ã –Ω–∞ `min_risk_reward_ratio=2.0`, –Ω–æ —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç RR < 1:1

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

**A. –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏ —Å —É—á–µ—Ç–æ–º —Ä–µ–∞–ª—å–Ω—ã—Ö TP/SL:**
```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è TP/SL –ø—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏:
min_risk_reward_ratio = 2.5  # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
# –ù–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ –∫–∞—á–µ—Å—Ç–≤—É —Å–∏–≥–Ω–∞–ª–æ–≤:
min_confidence_for_training = 0.6  # –¢–æ–ª—å–∫–æ —Å–∏–≥–Ω–∞–ª—ã —Å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é >60%
```

**B. –î–æ–±–∞–≤–∏—Ç—å –≤ —Ü–µ–ª–µ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏:**
```python
# –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —É—á–∏—Ç—ã–≤–∞—Ç—å ATR:
# –ï—Å–ª–∏ ATR –±–æ–ª—å—à–æ–π - —Ç—Ä–µ–±—É–µ–º –±–æ–ª—å—à–∏–π TP –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–∞–∫ "–ø—Ä–∏–±—ã–ª—å–Ω–∞—è —Å–¥–µ–ª–∫–∞"
# –ï—Å–ª–∏ ATR –º–∞–ª–µ–Ω—å–∫–∏–π - —Ç—Ä–µ–±—É–µ–º –º–µ–Ω—å—à–∏–π TP
```

**C. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∑–≤–µ—à–µ–Ω–Ω—É—é –≤—ã–±–æ—Ä–∫—É –¥–ª—è –æ–±—É—á–µ–Ω–∏—è:**
```python
# –£–≤–µ–ª–∏—á–∏—Ç—å –≤–µ—Å –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ –≤ –æ–±—É—á–∞—é—â–µ–π –≤—ã–±–æ—Ä–∫–µ
# –£–º–µ–Ω—å—à–∏—Ç—å –≤–µ—Å —É–±—ã—Ç–æ—á–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
# –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –º–æ–¥–µ–ª–∏ –ª—É—á—à–µ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ –≤—Ö–æ–¥—ã
```

---

### 2.6. –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø

#### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

**A. –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫—Ç–µ—Å—Ç:**
```python
# –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π:
# 1. –ó–∞–ø—É—Å–∫–∞–µ—Ç compare_ml_models.py –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é
# 2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
# 3. –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π
# 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –ª—É—á—à—É—é –º–æ–¥–µ–ª—å, –µ—Å–ª–∏ –æ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ –ª—É—á—à–µ –Ω–∞ 10%+
```

**B. –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
```python
# –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π PnL –≤ —Ç–µ—á–µ–Ω–∏–µ 2 –Ω–µ–¥–µ–ª—å –ø–æ–¥—Ä—è–¥:
# - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
# - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –º–æ–¥–µ–ª—å
# - –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
```

**C. A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π:**
```python
# –ü–µ—Ä–µ–¥ –∑–∞–º–µ–Ω–æ–π —Ç–µ–∫—É—â–µ–π –º–æ–¥–µ–ª–∏:
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–µ –º–æ–¥–µ–ª–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –Ω–∞ –¥–µ–º–æ-—Å—á–µ—Ç–µ
# 2. –°—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞ 1-2 –Ω–µ–¥–µ–ª–∏
# 3. –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–æ–≤–∞—è –º–æ–¥–µ–ª—å –ª—É—á—à–µ –Ω–∞ 15%+ - –∑–∞–º–µ–Ω–∏—Ç—å
```

---

## üìã –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô (–ü–†–ò–û–†–ò–¢–ï–¢–´)

### üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï (—Å–¥–µ–ª–∞—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ):

1. **–ò–∑–º–µ–Ω–∏—Ç—å TP/SL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** (–í–∞—Ä–∏–∞–Ω—Ç A):
   - `ml_target_profit_pct_margin = 20.0%`
   - `ml_max_loss_pct_margin = 8.0%`
   - –û–±–Ω–æ–≤–∏—Ç—å –≤ `bot/config.py`

2. **–°–Ω–∏–∑–∏—Ç—å –ø–æ—Ä–æ–≥–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –∞–Ω—Å–∞–º–±–ª–µ–π**:
   - `threshold_mult = 0.15-0.25` (–±—ã–ª–æ 0.20-0.30)
   - `dynamic_threshold = confidence_threshold * 0.25` (–±—ã–ª–æ 0.30)
   - `min_strength = 0.003-0.005` (–±—ã–ª–æ 0.005-0.007)
   - –û–±–Ω–æ–≤–∏—Ç—å –≤ `bot/ml/strategy_ml.py`

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏–º–≤–æ–ª—å–Ω–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –º–æ–¥–µ–ª–∏**:
   - BTCUSDT: `quad_ensemble_BTCUSDT_15_mtf`
   - ETHUSDT: `triple_ensemble_ETHUSDT_15_mtf`
   - SOLUSDT: `quad_ensemble_SOLUSDT_15_15m`

### üü° –í–ê–ñ–ù–´–ï (—Å–¥–µ–ª–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏):

4. **–£–ª—É—á—à–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏**:
   - –£–≤–µ–ª–∏—á–∏—Ç—å `max_consecutive_losses` –¥–æ 3
   - –£–≤–µ–ª–∏—á–∏—Ç—å `loss_cooldown_minutes` –¥–æ 120
   - –ë–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π trailing stop

5. **–î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**:
   - –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫—Ç–µ—Å—Ç
   - –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏

### üü¢ –ñ–ï–õ–ê–¢–ï–õ–¨–ù–´–ï (—Å–¥–µ–ª–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞):

6. **–ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏** —Å —É—á–µ—Ç–æ–º —Ä–µ–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∑–≤–µ—à–µ–Ω–Ω—É—é –≤—ã–±–æ—Ä–∫—É
   - –£—á–∏—Ç—ã–≤–∞—Ç—å –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

7. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π

---

## üìà –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –æ–∂–∏–¥–∞–µ—Ç—Å—è:

1. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–¥–µ–ª–æ–∫** –¥–ª—è –∞–Ω—Å–∞–º–±–ª–µ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –Ω–∞ 50-100%
2. **–£–ª—É—á—à–µ–Ω–∏–µ Win Rate** –Ω–∞ 5-10% –∑–∞ —Å—á–µ—Ç –±–æ–ª–µ–µ —á–∞—Å—Ç—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π TP
3. **–£–ª—É—á—à–µ–Ω–∏–µ Profit Factor** –¥–æ 1.2-1.5 (—Å —Ç–µ–∫—É—â–∏—Ö 0.7-1.0)
4. **–°–Ω–∏–∂–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Å–∞–¥–æ–∫** –Ω–∞ 20-30%
5. **–£–ª—É—á—à–µ–Ω–∏–µ Sharpe Ratio** –¥–æ 0.5-1.0 (—Å —Ç–µ–∫—É—â–∏—Ö 0.0-0.5)

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:

1. **bot/config.py:**
   ```python
   ml_target_profit_pct_margin: float = 20.0  # –ë—ã–ª–æ 25.0
   ml_max_loss_pct_margin: float = 8.0        # –ë—ã–ª–æ 10.0
   ```

2. **bot/ml/strategy_ml.py:**
   ```python
   # –°—Ç—Ä–æ–∫–∏ 1053, 1117:
   threshold_mult = 0.15 if is_volatile_symbol else 0.25  # –ë—ã–ª–æ 0.20-0.30
   dynamic_threshold = self.confidence_threshold * 0.25     # –ë—ã–ª–æ 0.30
   
   # –°—Ç—Ä–æ–∫–∏ 713, 715:
   min_strength = 0.003  # –ë—ã–ª–æ 0.005 –¥–ª—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã—Ö
   min_strength = 0.005  # –ë—ã–ª–æ 0.007 –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö
   ```

3. **symbol_strategy_settings.json:**
   ```json
   {
     "BTCUSDT": {
       "ml_model_type": "quad_ensemble",
       "ml_mtf_enabled": true
     },
     "ETHUSDT": {
       "ml_model_type": "triple_ensemble",
       "ml_mtf_enabled": true
     },
     "SOLUSDT": {
       "ml_model_type": "quad_ensemble",
       "ml_mtf_enabled": false
     }
   }
   ```

---

## üìù –ó–ê–ú–ï–¢–ö–ò

- –í—Å–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –∞–Ω–∞–ª–∏–∑–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –±—ç–∫—Ç–µ—Å—Ç–∞ –∑–∞ 30 –¥–Ω–µ–π
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –¥–µ–º–æ-—Å—á–µ—Ç–µ –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø–µ—Ä–µ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –í–µ–¥–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–∞ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–∫–∞—Ç–∞
